<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/js/all.min.js" integrity="sha512-naukR7I+Nk6gp7p5TMA4ycgfxaZBJ7MO5iC3Fp6ySQyKFHOGfpkSZkYVWV5R7u7cfAicxanwYQ5D1e17EfJcMA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
      body {
        background: rgb(121, 9, 28);
        background: linear-gradient(
          90deg,
          rgba(121, 9, 28, 1) 13%,
          rgba(2, 0, 36, 1) 100%
        );
      }
      /* .upload-wrapper div {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        width: 400px;
        height: 400px;
        outline: 2px dashed #5d5d5d;
        outline-offset: -12px;
        background-color: #e0f2f7;
        font-family: "Segoe UI";
        color: #1f3c44;
      }
      .upload-img {
        width: 40%;
        margin-bottom: 20px;
        user-select: none;
      }
      .upload-wrapper label {
        font-weight: bold;
      }
      .upload-wrapper label:hover {
        cursor: pointer;
        text-decoration: underline;
      }
      .upload-wrapper div {
        position: relative;
        z-index: 10;
      }
      .upload-wrapper input[type="file"] {
        width: 0.1px;
        height: 0.1px;
        opacity: 0;
        position: absolute;
        z-index: -10;
      } */
      .hide-input {
        visibility: hidden;
      }
      th {
        text-align: left;
      }
    </style>
  </head>
  <body>
    <header>
      <ul class="flex gap-x-8 p-6 pl-12 bg-slate-400"> 
        <li>Username</li>
        <li>User course</li>
        <li>Project name</li>
      </ul>
    </header>
    <div class="pt-20 flex flex-col gap-y-4 items-center">

      <table class="table-fixed border-2 w-[80%] mb-2">
        <thead class="h-[60px] bg-slate-400">
            <tr>
                <th class="w-[100px]"></th>
                <th class="w-[500px] text-xl">Название файла</е>
                <th class="w-[500px] text-xl">Отзыв учителя</th>
                <th class="w-[50px]"></th>
                <th class="w-[50px]"></th>
            </tr>
        </thead>
        <tbody>
        <tr
          class="border-b bg-slate-200 transition duration-300 ease-in-out hover:bg-gray-100"
        >
          <td
            scope="col"
            class="text-sm pl-4 text-gray-900 py-4 text-left file-logos"
          ></td>
          <td
            class="text-lg text-gray-900 font-medium py-4 td break-words whitespace-normal "
          >
            <a href="{{obj.file.url}}" class="file-name text-black">asdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdadasdad.doc</a>
          </td>
          <td class="text-xl font-normal text-slate-600">
            asdasd
          </td>
          <td class="w-[20px]">
            <button>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-trash  hover:fill-red-800" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
              </svg>
            </button>
        </td>
          <td class="w-[20px]">
            <button>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-download hover:fill-blue-500" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
              </svg>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
      <div
      id="form-wrapper"
      class="border-4 flex rounded-lg bg-white mb-6 "
    >
      <form class="upload-wrapper" action="#">
        <input
          type="file"
          name="project-file"
          id="file-input"
          accept=".doc,.docx,.xls,.xlsx,.ppt,.pptx,.html,.css,.pdf"
          multiple
        />
      </form>
    </div>
    </div>

    <script>
      let formWrapper = document.getElementById("form-wrapper");
      let uploadInput = document.getElementById("file-input");
      let uploadFilesWrapper = document.querySelector(".upload-wrapper");
      let num = 0;
      let i = 0;
      let fileType = "";

      uploadInput.addEventListener("change", function () {
        uploadInput.classList.add("hide-input");

        for (let file of uploadInput.files) {
          let fileWrapper = document.createElement("div");
          fileWrapper.classList.add("flex", "items-center", "p-4", "gap-x-12");
          let fileIcon = document.createElement("img");
          fileIcon.classList.add("w-[50px]");
          let fileName = document.createElement("p");

          fileName.textContent = file.name;

          fileWrapper.append(fileIcon);
          fileWrapper.append(fileName);
          uploadFilesWrapper.append(fileWrapper);

          num = file.name.indexOf(".");
          fileType = file.name.substring(++num);
          if (fileType === "xlsx" || fileType === "xls") {
            fileIcon.src =
              "https://findicons.com/files/icons/2795/office_2013_hd/2000/excel.png";
          }
          if (fileType === "docx" || fileType === "doc") {
            fileIcon.src =
              "https://play-lh.googleusercontent.com/9kABykeGovHPy-dN19lRxxnCp8IZK3Pkl8qLFNxrEe-hhKVZeiyhTBEIRUt6t-vhxQ";
          }
          if (fileType === "pptx" || fileType === "ppt") {
            fileIcon.src =
              "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Microsoft_Office_PowerPoint_%282019%E2%80%93present%29.svg/1200px-Microsoft_Office_PowerPoint_%282019%E2%80%93present%29.svg.png";
          }
          if (fileType === "pdf") {
            fileIcon.src =
              "https://play-lh.googleusercontent.com/kIwlXqs28otssKK_9AKwdkB6gouex_U2WmtLshTACnwIJuvOqVvJEzewpzuYBXwXQQ";
          }
        }

        
        let uploadBtn = document.createElement('input');
          uploadBtn.type = 'submit';
          uploadBtn.value = 'Upload';
          uploadBtn.classList.add("text-white", "bg-blue-700", "hover:bg-blue-800", "focus:ring-4" ,"focus:outline-none", "focus:ring-blue-300", "dark:hover:bg-blue-700" ,"dark:focus:ring-blue-800", "font-medium", "rounded-lg" ,"text-sm", "px-5", "py-2.5" ,"text-center", "dark:bg-blue-600");
          uploadFilesWrapper.append(uploadBtn)
      });

        let fileNames = document.querySelectorAll(".file-name");

      for (let fileName of fileNames) {
        let parent = fileName.parentElement;
        let parentSibling = parent.previousElementSibling;
        let dot = fileName.innerHTML.indexOf(".") + 1;

        let uploadedFileType = fileName.innerHTML.substring(dot);

        if (uploadedFileType === "docx" || uploadedFileType === "doc") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Google_Docs.max-1100x1100.png' />";
        } else if (uploadedFileType === "jpg" || uploadedFileType === "jpeg" || uploadedFileType === "JPEG" || uploadedFileType === "png") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://fileviewerplus.com/img/icon/256/jpg-63.png' />";
        } else if (uploadedFileType === "pdf") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://play-lh.googleusercontent.com/kIwlXqs28otssKK_9AKwdkB6gouex_U2WmtLshTACnwIJuvOqVvJEzewpzuYBXwXQQ' />";
        } else if (uploadedFileType === "xls" || uploadedFileType === "xlsx") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://lh3.ggpht.com/e3oZddUHSC6EcnxC80rl_6HbY94sM63dn6KrEXJ-C4GIUN-t1XM0uYA_WUwyhbIHmVMH=w300' />";
        } else if (uploadedFileType === "ppt" || uploadedFileType === "pptx") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://blogs.shu.ac.uk/shutel/files/2014/08/GSlides.png' />";
        } else if (uploadedFileType === "py") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Python.svg/1200px-Python.svg.png' />";
        } else if (uploadedFileType === "js") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/1200px-Unofficial_JavaScript_logo_2.svg.png' />";
        }else if (uploadedFileType === "html") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/HTML5_logo_and_wordmark.svg/1200px-HTML5_logo_and_wordmark.svg.png' />";
        } else if (uploadedFileType === "css") {
            parentSibling.innerHTML = "<img class='w-[50px]' src='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/CSS3_logo_and_wordmark.svg/1200px-CSS3_logo_and_wordmark.svg.png' />";
        }
      }
    </script>
  </body>
</html>
